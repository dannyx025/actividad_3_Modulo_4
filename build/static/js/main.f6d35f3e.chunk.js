(this.webpackJsonpactividad_4=this.webpackJsonpactividad_4||[]).push([[0],{44:function(e,t,c){},45:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(19),i=c.n(a),r=(c(44),c(12)),l=(c(45),c.p+"static/media/logo.583cee0e.png"),o=c(37),d=c.n(o),j=c(9),u=c.n(j),m=c(16),b=c.n(m),h=c(0),x=b()(u.a),O=d.a.create({baseURL:"https://three-points.herokuapp.com/api",withCredentials:!0});O.interceptors.response.use((function(e){return e}),(function(e){var t="Error no handled on the script \n Possible CORS error",c="";if(void 0!==e.response)if((t=e.response.status)>=400&&t<=499)switch(t){case 400:c="Usuario o Contrase\xf1a incorrectos, int\xe9ntelo nuevamente";break;case 401:c="Usuario no autorizado, int\xe9ntelo nuevamente",localStorage.removeItem("id");break;case 404:c="Uri no encontrada";break;default:c="Se gener\xf3 un error en la solicitud"}else t>=500&&t<=599&&(c="Existe un problema con el servidor para procesar la solicitud");return x.fire({didOpen:function(){x.clickConfirm()}}).then((function(){return x.fire(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:"Ocurri\xf3 un error al procesar la solicitud"}),Object(h.jsxs)("h4",{id:"errorCode",children:["HTTP Error: ",t]}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{children:c})]}))})),"/login"===!window.location&&window.location.replace("/login"),e}));var f=function(e){return O.get("/users/".concat(e))};var g=function(){return Object(h.jsxs)("div",{className:"container-fluid m-0 p-0 d-flex v-100 h-100 flex-column flex-md-column flex-lg-row flex-xl-row align-items-center justify-content-center",children:[console.log(window.location),Object(h.jsx)("div",{className:"divLogo d-flex align-items-center justify-content-center",children:Object(h.jsx)("img",{src:l,className:"logo",alt:"logo"})}),Object(h.jsx)("div",{className:"divLogin d-flex align-items-center justify-content-center",children:Object(h.jsx)("form",{id:"formLogin",onSubmit:function(e){e.preventDefault();var t=document.getElementById("inputUsername"),c=document.getElementById("inputPass");if(""===t.value)t.classList.contains("is-invalid")||t.classList.add("is-invalid");else t.classList.contains("is-invalid")&&t.classList.remove("is-invalid");if(""===c.value)c.classList.contains("is-invalid")||c.classList.add("is-invalid");else c.classList.contains("is-invalid")&&c.classList.remove("is-invalid");c.value&&t.value&&function(e,t){return O.post("/login",{username:e,password:t})}(t.value,c.value).then((function(e){e.status>=200&&e.status<=299&&(localStorage.setItem("id",JSON.stringify(e.data.id)),window.location.replace("/"))})).catch((function(e){return console.log(e)})),document.getElementById("inputUsername").value="",document.getElementById("inputPass").value=""},children:Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsx)("div",{className:"col-12 ",children:Object(h.jsx)("div",{className:"input-group mb-2",children:Object(h.jsx)("input",{type:"text",className:"form-control ps-2",id:"inputUsername",placeholder:"USUARIO",name:"username"})})}),Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("input",{type:"password",className:"form-control mb-2 ps-2",id:"inputPass",placeholder:"CONTRASE\xd1A"})}),Object(h.jsx)("div",{className:"col-12 mt-4",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-primary mt-1",children:"Login"})})]})})})]})};c(70);var v=function(e){var t=e.avatar,c=e.username,s=e.bio,n=e.changeStatePosts;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"container-fluid d-flex flex-column justify-content-center align-items-center profile h-100",children:[Object(h.jsx)("img",{src:t,className:"avatar",alt:"avatar"}),Object(h.jsxs)("h5",{children:["@",c]}),Object(h.jsx)("h4",{children:s}),Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsx)("a",{onClick:function(){window.location.replace("/")},className:"exit",children:Object(h.jsx)("i",{className:"large material-icons exitIcon",children:"keyboard_capslock"})}),Object(h.jsx)("a",{onClick:function(){n([]),localStorage.removeItem("id"),window.location.replace("/login")},className:"exit",children:Object(h.jsx)("i",{className:"large material-icons exitIcon",children:"exit_to_app"})})]})]})})},p=(c(71),c(8));var N=function(){return Object(h.jsxs)("div",{className:"container-fluid d-flex flex-column align-items-center justify-content-center about",children:[Object(h.jsx)("img",{src:l,className:"logo",alt:"logo"}),Object(h.jsx)("h1",{children:"Actividad 3"}),Object(h.jsx)("h2",{children:"M\xf3dulo 4 - Front-end Frameworks"}),Object(h.jsx)("h3",{children:"Profesor: Julio Garc\xeda"}),Object(h.jsx)("h3",{children:"Alumno: Danny Barrantes Moya"}),Object(h.jsx)(p.b,{to:"/",className:"exit",children:Object(h.jsx)("i",{className:"large material-icons exitIcon",children:"keyboard_capslock"})})]})},w=c(2);c(77);var k=function(e){var t=e.name,c=e.avatar;return Object(h.jsxs)("header",{children:[Object(h.jsxs)("nav",{className:"nav-wrapper hide-on-med-and-down show-on-large",children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("img",{id:"logo",src:l,alt:"logo"}),Object(h.jsxs)("span",{id:"username",children:[" \xa1Hola ",t,"!"]})]}),Object(h.jsxs)("ul",{className:"right",children:[Object(h.jsx)("li",{className:"pt-2",children:Object(h.jsx)(p.b,{to:"/",children:Object(h.jsx)("i",{className:"material-icons",children:"home"})})}),Object(h.jsx)("li",{className:"pt-2",children:Object(h.jsx)(p.b,{to:"/about",children:Object(h.jsx)("i",{className:"material-icons",children:"report"})})}),Object(h.jsx)("li",{children:Object(h.jsx)(p.b,{to:"/profile",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"d-flex justify-content-center h-100",children:Object(h.jsxs)("div",{className:"image_outer_container",children:[Object(h.jsx)("div",{className:"green_icon"}),Object(h.jsx)("div",{className:"image_inner_container",children:Object(h.jsx)("img",{src:c,alt:"avatar"})})]})})})})})]})]}),Object(h.jsx)("nav",{className:"show-on-medium-and-down hide-on-med-and-up",children:Object(h.jsxs)("div",{className:"nav-wrapper",children:[Object(h.jsx)("span",{className:"brand-logo",children:Object(h.jsx)("img",{src:l,id:"logo",alt:"logo"})}),Object(h.jsx)("a",{href:"#",className:"sidenav-trigger p-2",children:Object(h.jsx)("i",{className:"material-icons",onClick:function(){return window.location.replace("/")},children:"home"})}),Object(h.jsx)(p.b,{to:"/profile",children:Object(h.jsx)("div",{className:"right",children:Object(h.jsx)("div",{className:"d-flex justify-content-center h-100",children:Object(h.jsxs)("div",{className:"image_outer_container",children:[Object(h.jsx)("div",{className:"green_icon"}),Object(h.jsx)("div",{className:"image_inner_container",children:Object(h.jsx)("img",{src:c,alt:"avatar"})})]})})})})]})})]})};c(78);var y=function(e){var t=e.onSearch;return Object(h.jsxs)("ul",{className:"container-fluid mt-5 d-flex align-items-center justify-content-center",children:[Object(h.jsx)("li",{className:"col-1",children:Object(h.jsx)("i",{className:"material-icons",children:"search"})}),Object(h.jsx)("li",{className:"col-lg-6 col-md-8 col-sm-9 col-7",children:Object(h.jsx)("input",{id:"search",type:"search",placeholder:"\xbfQue desea buscar?",onChange:function(e){t(e.target.value)}})}),Object(h.jsx)("li",{className:"col-1"})]})};c(79);var S=function(e){var t,c=e.createdAt,n=e.author,a=e.text,i=e.image,l=e.likes,o=e.postId,d=Object(s.useState)(l),j=Object(r.a)(d,2),u=j[0],m=j[1],b=function(e){m(u+e),function(e){O.post("/posts/".concat(e,"/like"))}(o)};return Object(h.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-4 col-xl-3 d-flex justify-content-center",children:Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("img",{src:i,className:"card-img-top",alt:"Post"}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("p",{className:"ps-2 right",children:(t=c,new Date(t).toLocaleDateString("en-US"))}),Object(h.jsxs)("p",{className:"author",children:["@",n]}),Object(h.jsx)("p",{className:"card-text",children:a}),Object(h.jsxs)("div",{className:"d-flex flex-row align-items-end likesContainer",children:[Object(h.jsx)("a",{className:"Noliked",onClick:function(e){switch(e.target.classList.contains("Noliked")){case!0:b(1),e.target.classList.add("liked"),e.target.classList.remove("Noliked");break;case!1:b(-1),e.target.classList.remove("liked"),e.target.classList.add("Noliked")}}}),Object(h.jsxs)("span",{className:"ps-2 likes",children:[u," likes"]})]})]})]})})};c(80),c(81);var L=function(){return Object(h.jsx)("div",{className:"container-fluid ",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-xs-0 col-sm-0 col-lg-1"}),Object(h.jsx)("div",{className:"col-xs-12 col-sm-12 col-lg-10",children:Object(h.jsxs)("ul",{className:"tabs tabsMain tabs-fixed-width tab-demo z-depth-2 mt-2",children:[Object(h.jsx)("li",{className:"tab",children:Object(h.jsx)("a",{className:"tabsAnchor activeTab",href:"#test2",id:"muro",children:"MURO"})}),Object(h.jsx)("li",{className:"tab",children:Object(h.jsx)("a",{className:"tabsAnchor",href:"#test2",id:"myPosts",children:"MIS POSTS"})}),Object(h.jsx)("li",{className:"tab",children:Object(h.jsx)("a",{className:"tabsAnchor",href:"#test3",id:"amigos",children:"AMIGOS"})})]})}),Object(h.jsx)("div",{className:"col-xs-0 col-sm-0 col-lg-1"})]})})};var C=function(e){var t=e.posts,c=e.search;return 0===t.length?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(L,{}),Object(h.jsx)("div",{className:"container-fluid d-flex align-items-center justify-content-center",id:"main-container",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("h4",{children:"Cargando posts..."})})})})]}):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"container-fluid ",id:"main-container",children:[Object(h.jsx)(L,{}),Object(h.jsx)("div",{className:"row",children:t.filter((function(e){return e.text.toLowerCase().includes(c.toLowerCase())})).map((function(e,t){return Object(h.jsx)(S,{author:e.author.username,createdAt:e.createdAt,text:e.text,comments:e.comments.length,image:e.image,likes:e.likes,postId:e.id},t)}))})]})})};var I=function(){var e=Object(s.useRef)(),t=Object(s.useRef)(""),c=Object(s.useRef)(""),n=Object(s.useRef)(""),a=Object(s.useRef)(""),i=Object(s.useRef)(JSON.parse(localStorage.getItem("id"))),l=Object(s.useRef)(b()(u.a)),o=Object(s.useState)([]),d=Object(r.a)(o,2),j=d[0],m=d[1],x=Object(s.useRef)(!1),p=Object(s.useState)(""),S=Object(r.a)(p,2),L=S[0],I=S[1],_=function(){m([]),e.current=setTimeout((function(){O.get("/posts").then((function(e){m(e.data)}))}),3e3)};return Object(s.useEffect)((function(){!0===x.current&&(l.current.fire({didOpen:function(){l.current.clickConfirm()}}).then((function(){return l.current.fire(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("p",{children:["\xa1Hola de nuevo, ",a,"!"]}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{children:Object(h.jsx)("i",{className:"material-icons",children:"insert_emoticon"})})]}))})).catch((function(e){return console.log(e)})),_())}),[]),Object(s.useEffect)((function(){u.a.fire({title:"Cargando...",html:"Favor, espere un momento.",didOpen:function(){return u.a.showLoading()},preConfirm:f(i.current).then((function(e){return t.current=e.data.avatar,c.current=e.data.username,n.current=e.data.bio,a.current=e.data.name,x.current=!0,e})).catch((function(e){"/login"!==window.location.pathname?(u.a.close(),x.current=!1,window.location.replace("/login")):x.current=!1}))})}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(w.c,{children:[Object(h.jsxs)(w.a,{path:"/",exact:!0,children:[Object(h.jsx)(k,{name:a.current,avatar:t.current,loadPostList:function(){return _()}}),Object(h.jsx)(y,{onSearch:function(e){return I(e)}}),Object(h.jsx)(C,{posts:j,search:L})]}),Object(h.jsx)(w.a,{path:"/login",component:g,exact:!0}),Object(h.jsxs)(w.a,{path:"/profile",exact:!0,children:[Object(h.jsx)(k,{name:a.current,avatar:t.current}),Object(h.jsx)(v,{avatar:t.current,username:c.current,bio:n.current,changeStatePosts:function(e){return m(e)}})]}),Object(h.jsx)(w.a,{path:"/about",component:N,exact:!0})]})})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,83)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),s(e),n(e),a(e),i(e)}))};i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(p.a,{children:Object(h.jsx)(I,{})})}),document.getElementById("root")),_()}},[[82,1,2]]]);
//# sourceMappingURL=main.f6d35f3e.chunk.js.map